<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Love ðŸ’–</title>
<style>
/* Base Styles */
* {
    box-sizing: border-box;
}

body {
    margin: 0;
    padding: 0;
    background: white;
    font-family: Arial, Helvetica, sans-serif;
    overflow-x: hidden;
    min-height: 100vh;
    touch-action: manipulation;
}

.screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: opacity 0.6s ease, transform 0.6s ease;
    z-index: 100;
    background: white;
    padding: 15px;
    overflow-y: auto;
}

.hidden { 
    opacity: 0; 
    pointer-events: none; 
    z-index: 1;
}

.slide-in { transform: translateX(100%); }
.active { 
    transform: translateX(0); 
    opacity: 1; 
    z-index: 100;
}

h1 {
    color: #ff9ecf;
    text-align: center;
    font-size: 2rem;
    margin: 15px 0;
    line-height: 1.3;
    font-family: Georgia, 'Times New Roman', Times, serif;
}

/* Quiz Screen Mobile Styles */
#quiz h1 {
    font-size: 1.8rem;
    margin-top: 10px;
    margin-bottom: 20px;
    padding: 0 10px;
}

.options {
    display: flex;
    flex-direction: column;
    gap: 20px;
    width: 100%;
    max-width: 500px;
    padding: 10px;
}

.option {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px;
    border-radius: 20px;
    width: 100%;
}

.option.green { border: 4px solid #9cffb3; }
.option.pink { border: 4px solid #ffb6d9; }

.option iframe {
    width: 100%;
    max-width: 250px;
    height: 250px;
    border: none;
    margin-bottom: 10px;
}

.option div {
    font-size: 1.2rem;
    font-weight: bold;
    margin-bottom: 10px;
    color: #333;
    text-align: center;
    font-family: Arial, Helvetica, sans-serif;
}

button {
    margin-top: 10px;
    padding: 12px 30px;
    border-radius: 25px;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.3s ease;
    font-family: Arial, Helvetica, sans-serif;
    font-weight: bold;
    min-height: 50px;
    min-width: 120px;
}

.select { 
    background: #9cffb3; 
    width: 100%;
    max-width: 200px;
}

.next { 
    background: #9cffb3; 
    font-size: 1.1rem;
    padding: 15px 40px;
}

.center {
    text-align: center;
}

.fadeText {
    font-size: 1.8rem;
    color: #ff9ecf;
    opacity: 0;
    animation: fade 5s forwards; /* Changed from 2s to 5s */
    font-family: Georgia, 'Times New Roman', Times, serif;
}

@keyframes fade {
    0% { opacity: 0; }
    20% { opacity: 1; }
    80% { opacity: 1; }
    100% { opacity: 0; }
}

canvas { 
    margin-bottom: 20px; 
    display: block;
    max-width: 90%;
    height: auto;
}

#yesBtn { 
    background:#4CAF50; 
    color:white;
    transition: all 0.3s ease;
    margin: 10px;
    width: 80%;
    max-width: 300px;
}

#noBtn { 
    background:#F44336; 
    color:white;
    transition: all 0.3s ease;
    margin: 10px;
    width: 80%;
    max-width: 300px;
}

#valentineQuestion {
    color: #ff9ecf;
    font-size: 2rem;
    margin: 20px 0;
    padding: 0 15px;
    line-height: 1.3;
    font-family: Georgia, 'Times New Roman', Times, serif;
}

/* Make wrong screen full screen */
#wrong {
    background: white;
    z-index: 150;
}

/* Make special screen full screen */
#special {
    background: white;
    z-index: 150;
}

/* Make thinking screen full screen */
#thinking {
    background: white;
    z-index: 200;
}

/* Valentine screen styles */
#valentineScreen {
    background: white;
    padding-top: 40px;
}

#yesBtn.fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    border-radius: 0;
    font-size: 3rem;
    z-index: 10000;
    animation: pulse 1s infinite;
    margin: 0;
    max-width: 100%;
    font-family: Arial, Helvetica, sans-serif;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.message-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background: white;
    z-index: 1000;
    padding: 20px;
}

.message-text {
    font-size: 2rem;
    color: #ff9ecf;
    text-align: center;
    padding: 20px;
    line-height: 1.4;
    font-family: Georgia, 'Times New Roman', Times, serif;
}

#finalGif {
    width: 90%;
    max-width: 350px;
    height: 350px;
    border: none;
    margin-bottom: 20px;
}

#final h1 {
    color: #ff9ecf;
    font-size: 2.2rem;
    animation: celebrate 0.5s infinite alternate;
    padding: 0 15px;
    line-height: 1.3;
    font-family: Georgia, 'Times New Roman', Times, serif;
}

@keyframes celebrate {
    0% { transform: scale(1); }
    100% { transform: scale(1.05); }
}

/* Button container for valentine screen */
.button-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    margin-top: 20px;
    gap: 15px;
}

/* Wrong and Special screens adjustments */
#wrongGif, #specialGif {
    width: 90%;
    max-width: 300px;
    height: 300px;
    margin-bottom: 20px;
}

/* Text in wrong and special screens */
#wrongText, #specialText {
    font-family: Georgia, 'Times New Roman', Times, serif;
    padding: 0 15px;
}

/* Larger screens adjustments */
@media (min-width: 768px) {
    h1 {
        font-size: 2.5rem;
    }
    
    #quiz h1 {
        font-size: 2.2rem;
    }
    
    .options {
        flex-direction: row;
        gap: 40px;
    }
    
    .option {
        width: 45%;
    }
    
    .button-container {
        flex-direction: row;
        justify-content: center;
    }
    
    #yesBtn, #noBtn {
        width: auto;
        max-width: 200px;
    }
    
    #valentineQuestion {
        font-size: 2.5rem;
    }
    
    .message-text {
        font-size: 2.5rem;
    }
    
    #final h1 {
        font-size: 3rem;
    }
}

/* Small phone adjustments */
@media (max-width: 360px) {
    h1 {
        font-size: 1.7rem;
    }
    
    #quiz h1 {
        font-size: 1.5rem;
    }
    
    .option iframe {
        height: 200px;
    }
    
    #valentineQuestion {
        font-size: 1.7rem;
    }
    
    .message-text {
        font-size: 1.8rem;
    }
    
    #final h1 {
        font-size: 1.8rem;
    }
    
    #yesBtn.fullscreen {
        font-size: 2.5rem;
    }
}

/* Prevent text selection for better UX */
button, h1, .message-text, .option div {
    user-select: none;
    -webkit-user-select: none;
}

/* Improve tap targets for mobile */
button {
    -webkit-tap-highlight-color: rgba(0,0,0,0.1);
    tap-highlight-color: rgba(0,0,0,0.1);
}
</style>
</head>
<body>

<!-- QUIZ SCREEN -->
<div id="quiz" class="screen active">
    <h1 id="qText"></h1>
    <div class="options">
        <div id="opt1" class="option green"></div>
        <div id="opt2" class="option pink"></div>
    </div>
</div>

<!-- WRONG SCREEN -->
<div id="wrong" class="screen hidden center">
    <iframe id="wrongGif"></iframe>
    <h1 id="wrongText"></h1>
    <button class="next" onclick="retry()">Try again</button>
</div>

<!-- SPECIAL LAST -->
<div id="special" class="screen hidden center">
    <iframe id="specialGif"></iframe>
    <h1 id="specialText"></h1>
    <button id="specialNext" class="next">Next</button>
</div>

<!-- TRANSITION TEXT -->
<div id="thinking" class="screen hidden">
    <div class="message-container">
        <div id="thinkingText" class="message-text"></div>
    </div>
</div>

<!-- VALENTINE SCREEN -->
<div id="valentineScreen" class="screen hidden center">
    <canvas id="heartCanvas" width="400" height="400"></canvas>
    <h1 id="valentineQuestion">Will you be my Valentine?</h1>
    <div class="button-container">
        <button id="yesBtn">Yes</button>
        <button id="noBtn">No</button>
    </div>
</div>

<!-- FINAL YAY SCREEN -->
<div id="final" class="screen hidden center">
    <iframe id="finalGif" src=""></iframe>
    <h1>YAYYYYY MY BABYYY!! ðŸ’–</h1>
</div>

<script>
let q = 0, firstWrong = true;
let canProceedToValentine = false;

const questions = [
{
 text:"what's the gif I usually use?",
 correct:0,
 opts:[
  ["https://tenor.com/embed/5305028030491560871",""],
  ["https://tenor.com/embed/9980836029424925531",""]
 ]
},
{
 text:"what's the most anime I love?",
 correct:0,
 opts:[
  ["https://tenor.com/embed/471413852191650964","dragon ball z"],
  ["https://tenor.com/embed/23861320","one piece"]
 ]
},
{
 text:"who's the most character I like?",
 correct:1,
 opts:[
  ["https://tenor.com/embed/5009523","Goku"],
  ["https://tenor.com/embed/798869082554796710","Gohan"]
 ]
},
{
 text:"lastly who loves the other more?",
 correct:0,
 opts:[
  ["https://tenor.com/embed/15438397176168163919","me"],
  ["https://tenor.com/embed/27379065","you"]
 ]
}
];

function loadQ() {
 document.getElementById("qText").innerText = questions[q].text;
 ["opt1","opt2"].forEach((id,i)=>{
   document.getElementById(id).innerHTML =
   `<iframe src="${questions[q].opts[i][0]}"></iframe>
    <div>${questions[q].opts[i][1]}</div>
    <button class="select" onclick="answer(${i})">Select</button>`;
 });
}
loadQ();

function answer(i){
 if(i===questions[q].correct){
   q++;
   if(q===questions.length){
     // Check if last question was answered with "me"
     if(questions[questions.length-1].correct === 0 && i === 0) {
       canProceedToValentine = true;
       showSpecial(true);
     } else {
       showSpecial(false);
     }
   } else {
     loadQ();
   }
 } else {
   // Check if this is the last question and user chose "you" (option 1)
   if (q === questions.length - 1 && i === 1) {
     showSpecial(false);
   } else {
     showWrong();
   }
 }
}

function showWrong(){
 document.getElementById("quiz").classList.add("hidden");
 document.getElementById("quiz").style.zIndex = "1";
 
 document.getElementById("wrong").classList.remove("hidden");
 document.getElementById("wrong").style.zIndex = "150";
 
 document.getElementById("wrongGif").src =
 firstWrong ?
 "https://tenor.com/embed/1273635370605410744":
 "https://tenor.com/embed/10803886120200552564";
 document.getElementById("wrongText").innerText =
 firstWrong ?
 "maybeee you forgot my lovee, try again":
 "did you forget about meee?";
 firstWrong=false;
}

function retry(){
 document.getElementById("wrong").classList.add("hidden");
 document.getElementById("wrong").style.zIndex = "1";
 
 document.getElementById("quiz").classList.remove("hidden");
 document.getElementById("quiz").style.zIndex = "100";
}

function showSpecial(win){
 document.getElementById("quiz").classList.add("hidden");
 document.getElementById("quiz").style.zIndex = "1";
 
 document.getElementById("special").classList.remove("hidden");
 document.getElementById("special").style.zIndex = "150";
 
 const specialGif = document.getElementById("specialGif");
 const specialText = document.getElementById("specialText");
 const specialNext = document.getElementById("specialNext");
 
 if(win){
   specialGif.src = "https://tenor.com/embed/1790151932624174569";
   specialText.innerText = "Well I was kidding since it's our anniversary I'm letting you win this time";
   specialNext.disabled = false;
   specialNext.style.opacity = "1";
   specialNext.style.cursor = "pointer";
   specialNext.innerText = "Next";
   specialNext.onclick = startValentine;
 } else {
   specialGif.src = "https://tenor.com/embed/21945669";
   specialText.innerText = "uhhh did you actually think you love me more?";
   specialNext.disabled = false;
   specialNext.style.opacity = "1";
   specialNext.style.cursor = "pointer";
   specialNext.innerText = "Try again";
   specialNext.onclick = retryToLastQuestion;
 }
}

function retryToLastQuestion() {
 q = questions.length - 1;
 document.getElementById("special").classList.add("hidden");
 document.getElementById("special").style.zIndex = "1";
 document.getElementById("quiz").classList.remove("hidden");
 document.getElementById("quiz").style.zIndex = "100";
 loadQ();
}

function startValentine(){
 if (!canProceedToValentine) {
   return;
 }
 
 document.getElementById("special").classList.add("hidden");
 document.getElementById("special").style.zIndex = "1";
 
 // Show first transition screen
 const thinkingScreen = document.getElementById("thinking");
 const thinkingText = document.getElementById("thinkingText");
 thinkingScreen.classList.remove("hidden");
 thinkingScreen.style.zIndex = "200";
 
 // First message - displays for 5 seconds
 thinkingText.innerText = "my love I have been thinking";
 
 setTimeout(() => {
   // Second message - displays for 5 seconds
   thinkingText.innerText = "on how to ask you this";
   
   setTimeout(() => {
     // Third message - displays for 5 seconds
     thinkingText.innerText = "So..";
     
     setTimeout(() => {
       thinkingScreen.classList.add("hidden");
       thinkingScreen.style.zIndex = "1";
       showValentineScreen();
     }, 5000); // Changed from 2000 to 5000
   }, 5000); // Changed from 2000 to 5000
 }, 5000); // Changed from 2000 to 5000
}

function showValentineScreen() {
 const valentineScreen = document.getElementById("valentineScreen");
 valentineScreen.classList.remove("hidden");
 valentineScreen.style.zIndex = "100";
 
 // Adjust canvas size for mobile
 const canvas = document.getElementById("heartCanvas");
 const screenWidth = window.innerWidth;
 if (screenWidth < 768) {
   canvas.width = Math.min(350, screenWidth - 40);
   canvas.height = Math.min(350, screenWidth - 40);
 }
 
 drawHeart();
 setupValentineButtons();
}

function drawHeart(){
 const canvas = document.getElementById("heartCanvas");
 const ctx = canvas.getContext("2d");
 let progress = 0;
 
 function animate() {
   ctx.clearRect(0, 0, canvas.width, canvas.height);
   ctx.beginPath();
   
   // Draw heart shape
   for(let i = 0; i <= progress; i += 0.01) {
     let x = 16 * Math.pow(Math.sin(i), 3);
     let y = -(13 * Math.cos(i) - 5 * Math.cos(2*i) - 2 * Math.cos(3*i) - Math.cos(4*i));
     // Scale based on canvas size
     const scale = Math.min(canvas.width, canvas.height) / 40;
     ctx.lineTo(canvas.width/2 + x * scale, canvas.height/2 + y * scale);
   }
   
   ctx.strokeStyle = "#ff9ecf";
   ctx.lineWidth = 3;
   ctx.stroke();
   
   if(progress < Math.PI * 2) {
     progress += 0.05;
     requestAnimationFrame(animate);
   }
 }
 
 animate();
}

function setupValentineButtons() {
 const yesBtn = document.getElementById("yesBtn");
 const noBtn = document.getElementById("noBtn");
 let noClickCount = 0;
 
 // Reset button styles
 yesBtn.style.cssText = '';
 noBtn.style.cssText = '';
 yesBtn.innerText = "Yes";
 noBtn.innerText = "No";
 yesBtn.classList.remove("fullscreen");
 noBtn.style.display = "block";
 
 yesBtn.onclick = function() {
   showFinalScreen();
 };
 
 noBtn.onclick = function() {
   noClickCount++;
   
   switch(noClickCount) {
     case 1:
       noBtn.innerText = "Are you sure?";
       yesBtn.style.fontSize = "1.2rem";
       yesBtn.style.padding = "14px 35px";
       break;
     case 2:
       noBtn.innerText = "You're breaking my heartâ˜¹ï¸";
       yesBtn.style.fontSize = "1.4rem";
       yesBtn.style.padding = "16px 40px";
       break;
     case 3:
       noBtn.innerText = "Are you really really sure??";
       yesBtn.style.fontSize = "1.6rem";
       yesBtn.style.padding = "18px 45px";
       break;
     case 4:
       yesBtn.classList.add("fullscreen");
       yesBtn.innerText = "YES!!!";
       noBtn.style.display = "none";
       break;
   }
 };
}

function showFinalScreen() {
 document.getElementById("valentineScreen").classList.add("hidden");
 document.getElementById("valentineScreen").style.zIndex = "1";
 
 const finalScreen = document.getElementById("final");
 finalScreen.classList.remove("hidden");
 finalScreen.style.zIndex = "100";
 
 // Set the final GIF
 document.getElementById("finalGif").src = "https://tenor.com/embed/4482198545344900061";
}

// Handle window resize for better mobile experience
window.addEventListener('resize', function() {
 if (!document.getElementById('valentineScreen').classList.contains('hidden')) {
   // Redraw heart if on valentine screen
   drawHeart();
 }
});

// Prevent zoom on double-tap for better mobile experience
let lastTouchEnd = 0;
document.addEventListener('touchend', function(event) {
 const now = (new Date()).getTime();
 if (now - lastTouchEnd <= 300) {
   event.preventDefault();
 }
 lastTouchEnd = now;
}, false);
</script>
</body>
</html>
